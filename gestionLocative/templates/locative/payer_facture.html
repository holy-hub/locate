{% extends "base.html" %}

{% block content %}
<div class="container bg-light shadow rounded my-3 p-4">
    <h1 class="mb-4">{{ title }}</h1>
    <p class="lead">Bien : {% if location.propriete %}{{ location.propriete.designation }}{% endif %} — Montant attendu : <strong>{{ montant_attendu }} F</strong></p>
    <form method="POST" action="{% url 'payer_facture' location.id %}">
        {% csrf_token %}
        <div class="row my-3">
            <div class="col-md-6 mb-3">
                <label class="form-label">Locataire</label>
                <input type="text" value="{% if location.utilisateur %}{{ location.utilisateur.username }}{% endif %}" class="form-control" disabled>
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">Propriété</label>
                <input type="text" value="{% if location.propriete %}{{ location.propriete.designation }}{% endif %}" class="form-control" disabled>
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label" for="montant">Montant (F)</label>
                <input type="number" name="montant" id="montant" class="form-control" step="0.01" value="{{ montant_attendu }}" placeholder="{{ montant_attendu }}" required>
            </div>
        </div>
        <button class="btn btn-success" type="submit">Enregistrer le paiement</button>
        <a href="{% url 'liste_locations' %}" class="btn btn-outline-secondary">Annuler</a>
    </form>
</div>
{% endblock content %}
